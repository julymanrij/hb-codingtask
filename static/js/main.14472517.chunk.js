(this["webpackJsonphello-build"]=this["webpackJsonphello-build"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var s,r,a,c,i=n(43),o=n(2),l=n(47),j=n.n(l),b=(n(62),n(63),n(12)),u=n(17),d=n(8),m=(n(64),n(65),n(66),n(1)),O=function(){return Object(m.jsx)("img",{src:"/logo-hello-build.png",alt:"Logo"})},h=function(e){return Object(m.jsxs)("nav",{className:"container",children:[Object(m.jsx)(u.b,{to:"/",className:"logo",children:Object(m.jsx)(O,{})}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(u.c,{to:"/",exact:!0,activeClassName:"active",children:"Profile"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.c,{to:"/list-repositories",exact:!0,activeClassName:"active",children:"List Repositories"})})]})]})},p=function(e){return Object(m.jsxs)("section",{className:"mainLayout",children:[Object(m.jsx)(h,{}),Object(m.jsx)("section",{className:"body container",children:Object(m.jsx)("section",{className:"content",children:e.children})})]})},x=(n(73),n(74),n(75),function(e){return Object(m.jsx)("div",{className:"hbIcon",children:Object(m.jsx)("span",{className:"icon-".concat(e.name),style:{color:e.color,fontSize:"".concat(e.size,"px")}})})}),f=function(e){return Object(m.jsxs)("div",{className:"hbInput",children:[Object(m.jsx)("label",{htmlFor:e.name,children:e.label}),Object(m.jsx)("input",{name:e.name,type:e.type,className:e.class,required:e.required,onChange:e.onChange}),e.showIcon&&Object(m.jsx)(x,{name:e.nameIcon,color:e.colorIcon,size:e.sizeIcon})]})},g=(n(76),function(e){return Object(m.jsx)("div",{className:"hbButton",children:Object(m.jsx)("button",{type:e.type,className:e.class,onClick:e.onclick,children:e.text})})}),v=function(){var e=Object(o.useState)(null),t=Object(b.a)(e,2),n=t[0],s=t[1],r=function(e){s(e)};return Object(m.jsxs)("section",{className:"login flexColumn container content",children:[Object(m.jsx)(O,{}),Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("form",{id:"login",className:"flexColumn",action:"#",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("users"))||[],n=document.getElementById("login"),s={email:n.elements.email.value,password:n.elements.password.value},a=t.filter((function(e){return e.email===s.email}));a.length?a[0].password===s.password?(sessionStorage.setItem("userData",JSON.stringify(s)),window.location.href="/"):r("Wrong password"):r("User do not exist.")},children:[Object(m.jsx)(f,{name:"email",label:"Email",type:"email",required:!0}),Object(m.jsx)(f,{name:"password",label:"Password",type:"password",required:!0}),n&&Object(m.jsx)("span",{className:"error",children:n}),Object(m.jsx)(g,{text:"login",type:"submit"}),Object(m.jsx)(u.b,{to:"sign-up",children:"Sign Up"})]})]})},w=n(54),S=(n(77),function(){var e=Object(o.useState)(null),t=Object(b.a)(e,2),n=t[0],s=t[1],r=function(e){s(e)};return Object(m.jsxs)("section",{className:"signUp flexColumn container content",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("users"))||[],n=document.getElementById("signup");if(n.elements.password.value===n.elements.confirmPassword.value){var s={name:n.elements.name.value,phone:n.elements.phone.value,email:n.elements.email.value,password:n.elements.password.value};t.filter((function(e){return e.email===s.email})).length?r("User already exist."):(localStorage.setItem("users",JSON.stringify([].concat(Object(w.a)(t),[s]))),window.location.href="/")}else r("The password confirmation does not match.")},children:[Object(m.jsx)(O,{}),Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsxs)("form",{className:"flexColumn",action:"",id:"signup",children:[Object(m.jsx)(f,{name:"name",label:"Name",type:"text",required:!0}),Object(m.jsx)(f,{name:"phone",label:"Phone",type:"phone",required:!1}),Object(m.jsx)(f,{name:"email",label:"Email",type:"email",required:!0}),Object(m.jsx)(f,{name:"password",label:"Password",type:"password",required:!0}),Object(m.jsx)(f,{name:"confirmPassword",label:"Confirm password",type:"password",required:!0}),n&&Object(m.jsx)("span",{className:"error",children:n}),Object(m.jsx)(g,{text:"Sign Up",type:"submit"}),Object(m.jsx)(u.b,{to:"/",children:"Login"})]})]})}),N=(n(78),function(){return Object(m.jsx)("section",{className:"profile container content",children:Object(m.jsx)("h1",{children:"Landing"})})}),y=(n(79),n(31)),I=n.n(y),C=n(40),k=n(119),q=n(23),U=n(116),z=Object(U.a)(s||(s=Object(q.a)(["\n  query {\n    viewer {\n      login\n    }\n  }\n"]))),H=Object(U.a)(r||(r=Object(q.a)(["\n  query User($login: String!) {\n    user(login: $login) {\n      repositories(first: 100) {\n        totalCount\n        nodes {\n          url\n          id\n          name\n          description\n          viewerHasStarred\n        }\n      }\n    }\n  }\n"]))),E=(n(98),n(99),Object(U.a)(a||(a=Object(q.a)(["\n  mutation ($starrableId: ID!) {\n    addStar(input: { starrableId: $starrableId }) {\n      starrable {\n        id\n      }\n    }\n  }\n"])))),F=Object(U.a)(c||(c=Object(q.a)(["\n  mutation ($starrableId: ID!) {\n    removeStar(input: { starrableId: $starrableId }) {\n      starrable {\n        id\n      }\n    }\n  }\n"]))),B=n(120),P=function(e){var t={query:H,variables:{login:e.user}},n=Object(B.a)(E,{refetchQueries:[t]}),s=Object(b.a)(n,1)[0],r=Object(B.a)(F,{refetchQueries:[t]}),a=Object(b.a)(r,1)[0];return Object(m.jsxs)("div",{className:"repository",children:[Object(m.jsx)("a",{className:"repoTitle",href:e.url,children:e.name}),Object(m.jsx)("p",{children:e.description}),e.viewerHasStarred&&Object(m.jsx)("div",{className:"starIconButton",onClick:function(t){t.preventDefault(),a({variables:{starrableId:e.id}})},children:Object(m.jsx)(x,{name:"star-full",color:"#e4ac10",size:30})}),!e.viewerHasStarred&&Object(m.jsx)("div",{className:"starIconButton",onClick:function(){s({variables:{starrableId:e.id}})},children:Object(m.jsx)(x,{name:"star-empty",color:"#e4ac10",size:30})})]})},D=function(e){var t=Object(k.a)(H,{variables:{login:e.user}}),n=t.loading,s=t.error,r=t.data;return n?Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)(I.a,{type:"Puff",color:"#16d499",size:10})}):s?Object(m.jsx)("p",{children:"Error 2:("}):Object(m.jsxs)("ul",{className:"repositories",children:[!e.filterFavorites&&r.user.repositories.nodes.filter((function(t){return t.name.toUpperCase().includes(e.search.toUpperCase())||""===e.search})).map((function(t){var n=t.name,s=t.id,r=t.description,a=t.url,c=t.viewerHasStarred;return Object(m.jsx)("li",{children:Object(m.jsx)(P,{name:n,description:r,url:a,viewerHasStarred:c,id:s,user:e.user})},s)})),e.filterFavorites&&r.user.repositories.nodes.filter((function(t){return t.name.toUpperCase().includes(e.search.toUpperCase())||""===e.search})).filter((function(e){return e.viewerHasStarred})).map((function(t){var n=t.name,s=t.id,r=t.description,a=t.url,c=t.viewerHasStarred;return Object(m.jsx)("li",{children:Object(m.jsx)(P,{name:n,description:r,url:a,viewerHasStarred:c,id:s,user:e.user})},s)}))]})},J=(n(102),function(e){return Object(m.jsxs)("div",{className:"hbCheckBox",children:[Object(m.jsx)("label",{htmlFor:e.name,children:e.label}),Object(m.jsx)("input",{name:e.name,type:"checkbox",onChange:e.onChange})]})}),L=function(){var e=Object(o.useState)(!1),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(o.useState)(""),a=Object(b.a)(r,2),c=a[0],i=a[1],l=Object(o.useState)(!1),j=Object(b.a)(l,2),u=j[0],d=j[1],O=Object(k.a)(z),h=O.loading,p=O.error,x=O.data,v=O.refetch;return Object(o.useEffect)((function(){sessionStorage.getItem("token")&&s(!0)}),[]),h?Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)(I.a,{type:"Puff",color:"#16d499",size:10})}):Object(m.jsxs)("section",{className:"listRepositories flexColumn container content",children:[Object(m.jsx)("h1",{children:"Repositories"}),(!n||p)&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(g,{text:"Sign in with Github",onclick:function(){C.OAuth.initialize("t-d6VG-Xp-SM-HCHuWwaYTwUE74"),C.OAuth.popup("github").done((function(e){sessionStorage.removeItem("token"),sessionStorage.setItem("token",e.access_token),v(),s(!0)}))},type:"submit"})}),n&&p&&Object(m.jsx)("span",{className:"error",children:"Your token has expired, please login again"}),x&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{label:"Search repository by name",type:"search",showIcon:!0,nameIcon:"search",onChange:function(e){i(e.target.value)}}),Object(m.jsx)("div",{className:"filters",children:Object(m.jsx)(J,{label:"Filter Favorites",name:"favorites",onChange:function(e){d(e.target.checked)}})}),Object(m.jsx)(D,{filterFavorites:u,search:c,user:x.viewer.login})]})]})},$=function(){var e=Object(o.useState)(!1),t=Object(b.a)(e,2),n=t[0],s=t[1];return Object(o.useEffect)((function(){JSON.parse(sessionStorage.getItem("userData"))&&s(!0)}),[]),Object(m.jsx)(u.a,{basename:"/hb-codingtask",children:Object(m.jsxs)(d.d,{children:[n&&Object(m.jsx)(d.b,{path:["/list-repositories","/"],children:Object(m.jsx)(p,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/list-repositories",exact:!0,component:L}),Object(m.jsx)(d.b,{path:"/",exact:!0,component:N}),Object(m.jsx)(d.b,{render:function(){return Object(m.jsx)(d.a,{to:"/hb-codingtask"})}})]})})}),!n&&Object(m.jsx)(d.b,{path:["/sign-up","/"],children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/sign-up",exact:!0,component:S}),Object(m.jsx)(d.b,{path:"/",exact:!0,component:v}),Object(m.jsx)(d.b,{render:function(){return Object(m.jsx)(d.a,{to:"/hb-codingtask"})}})]})})]})})},R=n(115),T=n(53),A=n(117),G=n(118),Q=n(52),W=Object(T.a)({uri:"https://api.github.com/graphql"}),Y=Object(Q.a)((function(e,t){var n=t.headers,s=sessionStorage.getItem("token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:s?"Bearer ".concat(s):""})}})),M=new A.a({link:Y.concat(W),cache:new G.a});j.a.render(Object(m.jsx)(R.a,{client:M,children:Object(m.jsx)($,{})}),document.getElementById("root"))},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.14472517.chunk.js.map